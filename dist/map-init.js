"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Map=function(){function t(e,n,i){_classCallCheck(this,t),this.element=document.getElementById(e);try{var a=this.element.getAttribute("data-config");this.customConfig=JSON.parse(a)}catch(t){this.customConfig=[],console.log(t)}if(this.config={accessToken:"pk.eyJ1Ijoid2lqbmVtZW5qZW1lZSIsImEiOiJjaWgwZjB4ZGwwMGdza3FseW02MWNxcmttIn0.l-4VI25pfA5GKukRQTXnWA",style:"mapbox://styles/wijnemenjemee/cixls3wf0001o2ro0xjvltjaj",hostContainer:e,center:[4.875,52.3],zoom:5,pitch:0,bearing:0},this.options={filters:!0,referenceList:!0},n){this.config.dataset=JSON.parse(n)}else this.config.dataset={};this.interactionPopup=new InteractionPopup}return _createClass(t,[{key:"init",value:function(){var t=this;if(webgl_detect()&&!isIE11()){var e=new MapWebGL(t.config);t._map=e.create(),t._lines=new Lines(t._map,t.config),t._points=new Points(t._map,this.config.dataset),t._map.on("style.load",function(){t._lines.init(),t.config.dataset&&t.config.dataset.features.length>0&&t._points.draw(t.config.dataset)})}else{var n=new MapJs(t.config);t._map=n.create(),t._donut=new Donut(t._map,t.config),t._donut.draw(),this.customConfig&&"navigation"===this.customConfig.interaction&&(t.interactionPage=new InteractionPage(t._map,t.config,t.interactionPopup),t.interactionPage.init()),t._center=new Center(t._map,t.config),t._activeMarkers=new ActiveMarkers(t._map,t.config,t.interactionPopup,t._center),t._content=new ContentLayer(t._map,t.config,t.interactionPopup,t._activeMarkers),t.config.dataset.content&&t.config.dataset.content.features.length>0&&t._content.draw(t.config.dataset.content),t.options.filters&&(t.interactionFilters=new InteractionFilters(t._map,t.config,t._content),t.interactionFilters.init()),t._poi=new PoiLayer(t._map,t.config),t._poi.draw()}}}]),t}();